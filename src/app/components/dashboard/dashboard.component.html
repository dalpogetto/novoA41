<div class="sample-container">
  <po-loading-overlay *ngIf="loadTela===true" [p-screen-lock]="true"></po-loading-overlay>
</div>

<div class="po-md-12" style="margin-bottom: 20px;">
  <div class="po-md-6">
    <po-button (p-click)="verificarNotas()" p-icon="bi bi-arrow-clockwise" p-tooltip="Atualizar Tela" ></po-button> &nbsp;
    <po-button  (p-click)="onImprimirConteudoArquivo()" p-icon="bi bi-bug" p-danger="true" p-tooltip="Verificar Erros"></po-button> &nbsp;
    <po-button p-label="Reprocessar" (p-click)="onAbrirArquivo()" p-icon="bi bi-calendar2-check" p-tooltip="Reprocessar Notas Fiscais"></po-button> 
    
  </div>
  <div class="po-md-6">
    <div class="grid-pedido-execucao square">
      <div class="icone"><i class="bi bi-exclamation-triangle-fill"></i></div>
      <div class="linha1"> RPW:  {{rpwStatus.split(';')[0]}} - {{rpwStatus.split(';')[1]}} / {{rpwStatus.split(';')[2]}}</div>
      <div class="linha2"><i> Aguardando Ação de Reprocessar Notas</i></div>
    </div>
  </div>
</div>

<div class="po-md-12">
  <po-accordion style="margin-top: 10px;">
    <po-accordion-item p-label="Notas Fiscais de Entrada" #item1>
      <po-widget>
        <po-table
              [p-items]="listaNFE"
              [p-loading]="loadGrid"
              [p-striped]="true"
              [p-sort]="true"
              [p-height]="350"
              [p-columns]="colunasNFE"
              [p-hide-table-search]="true"
              [p-hide-columns-manager]="true"/>
  
       </po-widget>

    </po-accordion-item>
    <po-accordion-item p-label="Notas Fiscais de Saída">
      <po-widget>
        <po-table
              [p-items]="listaNFS"
              [p-loading]="loadGrid"
              [p-striped]="true"
              [p-sort]="true"
              [p-height]="350"
              [p-columns]="colunasNFS"
              [p-hide-table-search]="true"
              [p-hide-columns-manager]="true"/>
      </po-widget>
    </po-accordion-item>
    </po-accordion>


</div>

<po-modal #loginModal  p-title="Selecione o Técnico" 
                       p-size="auto" 
                       p-click-out="false" 
                       [p-primary-action]="acaoLogin">

  <div class="po-md-12">
    <po-combo [ngModel]="codEstabel" (ngModelChange)="codEstabel = $event"
                 (p-change)="onEstabChange($event)"
                [p-options]="listaEstabelecimentos" p-label="Estabelecimento" p-icon="bi bi-pin-map"
                [p-placeholder]="placeHolderEstabelecimento">
                <ng-template p-combo-option-template let-option>
                  <div class="po-row">
                    <po-icon class="po-sm-2 po-md-3 po-lg-1" p-size="sm" p-icon="bi bi-pin-map"></po-icon>
                    <div class="po-sm-10 po-md-9 po-lg-11">
                      <div class="po-font-text-large-bold">{{ option.label }}</div>
                      <div class="po-font-text-smaller">Filial: {{ option.codFilial }}</div>
                    </div>
                  </div>
                </ng-template>
              </po-combo>
  </div>
  <div class="po-md-12">
    <po-combo p-label="Técnico" [ngModel]="codUsuario" (ngModelChange)="codUsuario = $event"
                p-icon="bi bi-person-workspace"     [p-options]="listaTecnicos"
                [p-placeholder]="loadTecnico" [p-clean]="true" >
                <ng-template p-combo-option-template let-option>
                  <div class="po-row">
                    <po-icon class="po-sm-2 po-md-3 po-lg-1" p-size="sm" p-icon="bi bi-person-workspace"></po-icon>
                    <div class="po-sm-10 po-md-9 po-lg-11">
                      <div class="po-font-text-large-bold">{{ option.label }}</div>
                      <div class="po-font-text-smaller">Técnico: {{ option.value }}</div>
                    </div>
                  </div>
                </ng-template>
              </po-combo>
  </div>


</po-modal>

<po-modal #abrirArquivo  p-title="processo-1421429.txt" 
          p-size="xl" 
          p-click-out="false" 
          [p-primary-action]="acaoSair" 
          [p-secondary-action]="acaoImprimir" >

          <!-- <po-button p-label="Gerar PDF" p-kind="primary" (p-click)="onImprimirConteudoArquivo()"></po-button> -->
          <div innerHtml={{this.conteudoArquivo}} class="formatoTexto"></div> 
          
         <!--    <po-textarea [(ngModel)]="conteudoArquivo" [p-rows]="15"></po-textarea>-->
          
          
</po-modal>

